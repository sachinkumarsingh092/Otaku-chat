{% extends "layout.html" %}

{% block head %}
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script src="../static/channels.js" type="text/javascript"></script>
{% endblock %}

{% block title %}
    Channel
{% endblock %}                    

{% block main %}
    <div id="wrapper">
        <div id="menu">
            <div class="welcome" style="color:rgb(120, 146, 60);"> #{{ session.current_channel }} </div>
            <div class="logout"><button class="btn btn-primary" type="button" id="Exit">Exit Chat</button></div>
            <div style="clear:both"></div>
        </div>
        
        <div class="container-channel custom-window">
            <div id="chat" class="list-group">
                <div id="chatbox">
                    {%- if messages -%}
                        {%- for msg in messages -%}
                            {{ msg[0] }} => {{ msg[1] }}: {{ msg[2] }}<br>
                        {%- endfor -%}
                    {%- endif -%}
                </div>
            </div>
            <div id="message-box">
                <input type="text" id="usermsg" autofocus autocapitalize="on" autocomplete="off">
                <button id="sendmsg" class="btn btn-primary" type="reset">SEND&#x1F642</button>
            </div>
        </div>  
    </div>
{% endblock %}